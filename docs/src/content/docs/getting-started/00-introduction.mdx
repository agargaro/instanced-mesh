---
title: Introduction
---

`InstancedMesh2` is an alternative version of [`InstancedMesh`](https://threejs.org/docs/#api/en/objects/InstancedMesh) 
with enhanced features for performance and usability:
- **Per-instance frustum culling**: *skip rendering for out-of-view instances.*
- **Sorting**: *reduce overdraw and manage transparent objects efficiently.*
- **Spatial indexing (dynamic BVH)**: *speed up raycasting and frustum culling.*
- **Dynamic capacity**: *add or remove instances seamlessly.*
- **Per-instance visibility and opacity**: *toggle visibility and set opacity for each instance individually.*
- **Object3D-like instances**: *use instances like `Object3D` with transforms and custom data.*
- **Per-instance uniforms**: *assign unique shader data to individual instances.*
- **Level of Detail (LOD)**: *dynamically adjust instance detail based on distance.*
- **Shadow LOD**: *optimize shadow rendering with lower detail for distant instances.*
- **Skinning**: *apply skeletal animations to instances for more complex and dynamic movements.*

:::note 
It currently only works with [`WebGLRenderer`](https://threejs.org/docs/#api/en/renderers/WebGLRenderer) and 
[`three.js r159+`](https://github.com/mrdoob/three.js).
:::

### Differences with `InstancedMesh`

`InstancedMesh` uses an [`InstancedBufferAttribute`](https://threejs.org/docs/#api/en/core/InstancedBufferAttribute) to store instances matrices and data, 
and rendering occurs sequentially.

`InstancedMesh2` uses [`SquareDataTexture`](https://agargaro.github.io/instanced-mesh/api/classes/squaredatatexture/) 
(an extended version of [`DataTexture`](https://threejs.org/docs/#api/en/textures/DataTexture) to support partial update)
to store instances matrices and data, while using an `InstancedBufferAttribute` to manage the indexes of the instances to be rendered.

:::caution 
Because of the indirection, the rendering of all instances is slightly slower. <br/>
If none of the features are used, it is better to use `InstancedMesh`.
:::

---
title: Instances Array
---

With the [`createEntities`](https://agargaro.github.io/instanced-mesh/api/interfaces/instancedmesh2params/#createentities) flag passed into the constructor, 
an array of [`InstancedEntity`](https://agargaro.github.io/instanced-mesh/api/classes/instancedentity) 
will be created that is useful for more easily manipulating instances at the cost of using more memory.

```ts
const iMesh = new InstancedMesh2(geo, mat, { createEntities: true });

iMesh.instances[0].position.random();
iMesh.instances[0].rotateX(Math.PI);
iMesh.instances[0].updateMatrix(); // necessary after transformations
iMesh.instances[1].customData = {};
```

:::note
After updating `position/scale/quaternion` it's necessary to call the 
[`updateMatrix`](https://agargaro.github.io/instanced-mesh/api/classes/instancedentity/#updatematrix) method.
:::

:::tip
If only `position` is updated, use [`updateMatrixPosition`](https://agargaro.github.io/instanced-mesh/api/classes/instancedentity/#updatematrixposition) 
method for better performance.
:::

### Example

In this example, the instances array is used to animate easily the instances.

:::note
[`torusKnots.on(eventName, callback)`](https://agargaro.github.io/three.ez/docs/api#-event-programming) is available only in [`@three.ez/main`](https://github.com/agargaro/three.ez) package.
:::

<Example path='instances-array'/>
